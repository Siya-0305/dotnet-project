@model Mom_Managment.Models.MeetingMemberViewModel

@{
    ViewData["Title"] = Model.MeetingMemberID == 0
        ? "Add Meeting Member"
        : "Edit Meeting Member";
}

<div class="pagetitle">
    <h1>@ViewData["Title"]</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a asp-controller="Home" asp-action="Index">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a asp-controller="MeetingMember"
                   asp-action="MeetingMembersList">Meeting Members</a>
            </li>
            <li class="breadcrumb-item active">@ViewData["Title"]</li>
        </ol>
    </nav>
</div>

<section class="section">
    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">

                    <form asp-controller="MeetingMember"
                          asp-action="Save"
                          method="post"
                          class="row g-3 needs-validation"
                          novalidate>
                        @Html.AntiForgeryToken()

                        <!-- PK -->
                        <input asp-for="MeetingMemberID" type="hidden" />

                        <!-- Meeting -->
                        <div class="col-md-12">
                            <label asp-for="MeetingID" class="form-label">Meeting *</label>
                            <select asp-for="MeetingID"
                                    asp-items="ViewBag.MeetingList"
                                    class="form-select"
                                    required>
                                <option value="">-- Select Meeting --</option>
                            </select>
                            <span asp-validation-for="MeetingID" class="text-danger"></span>
                            <div class="invalid-feedback">Please select a meeting.</div>
                        </div>

                        <!-- Staff -->
                        <div class="col-md-12">
                            <label asp-for="StaffID" class="form-label">Staff Member *</label>
                            <select asp-for="StaffID"
                                    asp-items="ViewBag.StaffList"
                                    class="form-select"
                                    required>
                                <option value="">-- Select Staff --</option>
								<option value="">riya patel</option>
								<option value="">jeel patel</option>
                            </select>
                            <span asp-validation-for="StaffID" class="text-danger"></span>
                            <div class="invalid-feedback">Please select a staff member.</div>
                        </div>

                        <!-- Remarks -->
                        <div class="col-md-12">
                            <label asp-for="Remarks" class="form-label">Remarks</label>
                            <textarea asp-for="Remarks"
                                      class="form-control"
                                      rows="3"></textarea>
                        </div>

                        <!-- Is Present -->
                        <div class="col-md-12">
                            <div class="form-check">
                                <input asp-for="IsPresent"
                                       class="form-check-input"
                                       type="checkbox" />
                                <label asp-for="IsPresent" class="form-check-label">
                                    Mark as Present
                                </label>
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="col-12">
                            <hr />
                            <button type="submit" class="btn btn-primary">
                                @(Model.MeetingMemberID == 0 ? "Save" : "Update")
                            </button>
                            <a asp-action="MeetingMembersList" class="btn btn-secondary">Back</a>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</section>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

<script>
    // Bootstrap form validation
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    });
</script>
